; PJSIP Configuration for WebRTC Gateway
; Generated by SIP Dialer - 2025-10-24T09:55:40.050Z

[transport-wss]
type=transport
protocol=wss
bind=0.0.0.0:8088

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

; Browser WebRTC Endpoint
[1001]
type=endpoint
context=from-internal
disallow=all
allow=alaw,ulaw
webrtc=yes
dtls_auto_generate_cert=yes
media_encryption=dtls
dtls_verify=fingerprint
dtls_setup=actpass
ice_support=yes
media_use_received_transport=yes
rtcp_mux=yes
use_avpf=yes
force_rport=yes
rewrite_contact=yes
rtp_symmetric=yes
auth=1001
aors=1001

[1001]
type=auth
auth_type=userpass
username=1001
password=websecret

[1001]
type=aor
max_contacts=5
remove_existing=yes

; VOS3000 Registration
[vos3000-registration]
type=registration
transport=transport-udp
outbound_auth=vos3000-auth
server_uri=sip:104.248.249.40:5060
client_uri=sip:38751981815@104.248.249.40:5060
contact_user=38751981815
retry_interval=60
forbidden_retry_interval=600
expiration=3600
auth_rejection_permanent=no

[vos3000-auth]
type=auth
auth_type=userpass
username=38751981815
password=msowu204$

; VOS3000 Trunk Endpoint
[vos3000-endpoint]
type=endpoint
context=from-vos3000
disallow=all
allow=alaw,ulaw
transport=transport-udp
from_user=38751981815
from_domain=104.248.249.40
aors=vos3000-aor
outbound_auth=vos3000-auth
direct_media=no
trust_id_inbound=yes
send_pai=yes

[vos3000-aor]
type=aor
contact=sip:104.248.249.40:5060

; Identify incoming calls from VOS3000
[vos3000-identify]
type=identify
endpoint=vos3000-endpoint
match=104.248.249.40
